(this["webpackJsonpreact-deploy"]=this["webpackJsonpreact-deploy"]||[]).push([[0],{13:function(e,t,n){e.exports={header:"MainHeader_header__1VYwk"}},14:function(e,t,n){e.exports={card:"Card_card__2nKG4"}},15:function(e,t,n){e.exports={question:"Questions_question__Pzvoy"}},17:function(e,t,n){e.exports={button:"Button_button__1Nk4s"}},30:function(e,t,n){},33:function(e,t,n){"use strict";n.r(t);var c=n(7),o=n.n(c),i=n(2),r={options:{loading:!1,question_category:"",question_difficulty:"",question_type:"",amount_of_questions:10},questions:[],index:0,score:0},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_LOADING":return Object(i.a)(Object(i.a)({},e),{},{options:Object(i.a)(Object(i.a)({},e.options),{},{loading:t.value})});case"CHANGE_CATEGORY":return Object(i.a)(Object(i.a)({},e),{},{options:Object(i.a)(Object(i.a)({},e.options),{},{question_category:t.value})});case"CHANGE_DIFFICULTY":return Object(i.a)(Object(i.a)({},e),{},{options:Object(i.a)(Object(i.a)({},e.options),{},{question_difficulty:t.value})});case"CHANGE_TYPE":return Object(i.a)(Object(i.a)({},e),{},{options:Object(i.a)(Object(i.a)({},e.options),{},{question_type:t.value})});case"CHANGE_AMOUNT":return Object(i.a)(Object(i.a)({},e),{},{options:Object(i.a)(Object(i.a)({},e.options),{},{amount_of_questions:t.value})});case"SET_QUESTIONS":return Object(i.a)(Object(i.a)({},e),{},{questions:t.questions});case"SET_INDEX":return Object(i.a)(Object(i.a)({},e),{},{index:t.index});case"SET_SCORE":return Object(i.a)(Object(i.a)({},e),{},{score:t.score});default:return e}},a=n(18),u=n(3),j=(n(30),n(0)),l=n(13),b=n.n(l),O=n(1),d=function(e){return Object(O.jsx)("header",{className:b.a.header,children:Object(O.jsx)("h1",{children:"Quiz"})})},f=n(14),p=n.n(f),h=function(e){return Object(O.jsx)("section",{className:"".concat(p.a.card," ").concat(e.className?e.className:""),children:e.children})};var _=function(){var e=Object(u.c)((function(e){return e.score}));return Object(O.jsx)(h,{children:Object(O.jsxs)("h3",{children:["Your Score: ",e]})})},x=n(19),v=n(4),y=n(15),m=n.n(y),E=function(e){var t=document.createElement("textarea");return t.innerHTML=e,t.value};var g=function(e){var t=Object(j.useState)([]),n=Object(v.a)(t,2),c=n[0],o=n[1],r=Object(j.useState)(!1),s=Object(v.a)(r,2),a=s[0],l=s[1],b=Object(j.useState)(null),d=Object(v.a)(b,2),f=d[0],p=d[1],_=Object(j.useState)([]),y=Object(v.a)(_,2),g=y[0],N=y[1],C=Object(u.c)((function(e){return e.score})),S=Object(u.c)((function(e){return e.questions}));Object(j.useEffect)((function(){var e=S.map((function(e){return Object(i.a)(Object(i.a)({},e),{},{question:E(e.question),correct_answer:E(e.correct_answer),incorrect_answers:e.incorrect_answers.map((function(e){return E(e)}))})}));o(e)}),[S]);var q=Object(u.c)((function(e){return e.index})),T=Object(u.b)(),A=c[q],G=A&&A.correct_answer;Object(j.useEffect)((function(){if(A){var e,t=Object(x.a)(A.incorrect_answers);t.splice((e=A.incorrect_answers.length,Math.floor(Math.random()*Math.floor(e))),0,A.correct_answer),N(t)}}),[A]);var w=function(e){l(!0),p(e.target.textContent),e.target.textContent===G&&T({type:"SET_SCORE",score:C+1}),q+1<=c.length&&setTimeout((function(){l(!1),p(null),T({type:"SET_INDEX",index:q+1})}),500),q+1===c.length&&console.log("fin")},H=function(e){return a?e===G?"correct":e===f?"selected":void 0:""};return A?Object(O.jsxs)(h,{className:m.a.question,children:[Object(O.jsxs)("div",{children:["Question: ",q," / ",c.length]}),Object(O.jsx)("h3",{children:A.question}),Object(O.jsx)("ul",{children:g.map((function(e,t){return Object(O.jsx)("li",{onClick:w,className:H(e),children:e},t)}))})]}):Object(O.jsx)("div",{})},N=n(11),C=n.n(N),S=n(16),q=n(17),T=n.n(q),A=function(e){return Object(O.jsx)("button",{className:T.a.button,type:e.type||"button",onClick:e.onClick,children:e.children})};var G=function(e){var t=Object(u.b)(),n=function(e){t({type:"CHANGE_LOADING",loading:e})},c=Object(u.c)((function(e){return e.options.question_category})),o=Object(u.c)((function(e){return e.options.question_difficulty})),i=Object(u.c)((function(e){return e.options.question_type})),r=Object(u.c)((function(e){return e.options.amount_of_questions})),s=function(){var e=Object(S.a)(C.a.mark((function e(s){var a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"SET_QUESTIONS",questions:[]}),t({type:"SET_SCORE",score:0}),t({type:"SET_INDEX",index:0}),a="https://opentdb.com/api.php?amount=".concat(r),c.length&&(a=a.concat("&category=".concat(c))),o.length&&(a=a.concat("&difficulty=".concat(o))),i.length&&(a=a.concat("&type=".concat(i))),n(!1),e.next=10,fetch(a).then((function(e){return e.json()})).then((function(e){var c;c=e.results,t({type:"SET_QUESTIONS",questions:c}),n(!0)}));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(O.jsx)(h,{children:Object(O.jsx)(A,{onClick:s,children:e.text})})},w=n(6),H=n.n(w);var I=function(e){var t=Object(u.b)(),n=Object(j.useState)(null),c=Object(v.a)(n,2),o=c[0],i=c[1],r=Object(u.c)((function(e){return e.options.loading})),s=Object(u.c)((function(e){return e.options.question_category})),a=Object(u.c)((function(e){return e.options.question_difficulty})),l=Object(u.c)((function(e){return e.options.question_type})),b=Object(u.c)((function(e){return e.options.amount_of_questions}));return Object(j.useEffect)((function(){var e=function(e){t({type:"CHANGE_LOADING",loading:e})};e(!0),fetch("https://opentdb.com/api_category.php").then((function(e){return e.json()})).then((function(t){e(!1),i(t.trivia_categories)}))}),[i,t]),r?Object(O.jsx)("div",{children:"asdsa"}):Object(O.jsxs)(h,{children:[Object(O.jsxs)("div",{children:[Object(O.jsx)("h4",{children:"Select Category:"}),Object(O.jsxs)("select",{className:H.a.items,value:s,onChange:function(e){t({type:"CHANGE_CATEGORY",value:e.target.value})},children:[Object(O.jsx)("option",{children:"All"}),o&&o.map((function(e){return Object(O.jsx)("option",{value:e.id,children:e.name},e.id)}))]})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("h4",{children:"Select Difficulty:"}),Object(O.jsxs)("select",{className:H.a.items,value:a,onChange:function(e){t({type:"CHANGE_DIFFICULTY",value:e.target.value})},children:[Object(O.jsx)("option",{value:"",children:"All"},"difficulty-0"),Object(O.jsx)("option",{value:"easy",children:"Easy"},"difficulty-1"),Object(O.jsx)("option",{value:"medium",children:"Medium"},"difficulty-2"),Object(O.jsx)("option",{value:"hard",children:"Hard"},"difficulty-3")]})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("h4",{children:"Select Question Type:"}),Object(O.jsxs)("select",{className:H.a.items,value:l,onChange:function(e){t({type:"CHANGE_TYPE",value:e.target.value})},children:[Object(O.jsx)("option",{value:"",children:"All"},"type-0"),Object(O.jsx)("option",{value:"multiple",children:"Multiple Choice"},"type-1"),Object(O.jsx)("option",{value:"boolean",children:"True/False"},"type-2")]})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("h4",{children:"Amount of Questions:"}),Object(O.jsx)("input",{className:H.a.item,value:b,onChange:function(e){t({type:"CHANGE_AMOUNT",value:e.target.value})}})]}),Object(O.jsx)(G,{text:"Get Started"})]})};var k=function(){return Object(O.jsxs)(j.Fragment,{children:[Object(O.jsx)(d,{}),Object(O.jsx)(I,{}),Object(O.jsx)(g,{}),Object(O.jsx)(_,{})]})},D=Object(a.a)(s);o.a.render(Object(O.jsx)(u.a,{store:D,children:Object(O.jsx)(k,{})}),document.getElementById("root"))},6:function(e,t,n){e.exports={items:"Settings_items__16xEE",item:"Settings_item__QG_Ue"}}},[[33,1,2]]]);
//# sourceMappingURL=main.cd9bfbaf.chunk.js.map